/* This file imports Tailwind's styles */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* --- Global & Utilities --- */

html {
  scroll-behavior: smooth;
  font-family: 'Inter', sans-serif;
}

body {
  overflow-x: hidden; /* Prevent horizontal scroll */
}

/* Custom scrollbar */
.custom-scrollbar::-webkit-scrollbar { width: 6px; }
.custom-scrollbar::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 10px; }
.custom-scrollbar::-webkit-scrollbar-thumb { background: #c4c4c4; border-radius: 10px; }
.custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #a1a1a1; }

/* Styles for the custom flat status badges */
.badge-owned { background-color: #28a745; color: white; }
.badge-rented { background-color: #dc3545; color: white; }
.badge-empty { background-color: #e0e0e0; color: #555; }

/* Hamburger Button Animation */
.hamburger-line {
    width: 24px;
    height: 2px;
    background-color: #374151; /* gray-700 */
    display: block;
    margin: 5px 0;
    transition: all 0.3s ease-in-out;
}
.hamburger-btn.active .hamburger-line:nth-child(1) {
    transform: translateY(7px) rotate(45deg);
}
.hamburger-btn.active .hamburger-line:nth-child(2) {
    opacity: 0;
}
.hamburger-btn.active .hamburger-line:nth-child(3) {
    transform: translateY(-7px) rotate(-45deg);
}

/* Sidebar transition */
#sidebar {
    transition: transform 0.3s ease-in-out;
}

/* Style for the active navigation button */
.main-nav button.active {
  background-color: #4f46e5; /* indigo-700 */
  color: white;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}
.main-nav button.active svg {
    color: white;
}

/* --- Page (Section) Transition Animations --- */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes fadeOut {
  from { opacity: 1; }
  to { opacity: 0; }
}

section.is-entering {
  animation: fadeIn 0.3s ease-out forwards;
}
section.is-exiting {
  animation: fadeOut 0.3s ease-in forwards;
  position: absolute; /* Remove from flow while fading */
}

/* --- Animated Modals --- */
@keyframes slideInDown {
  from {
    transform: translateY(-30px) scale(0.95);
    opacity: 0;
  }
  to {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}
@keyframes zoomOut {
  from {
    transform: scale(1);
    opacity: 1;
  }
  to {
    transform: scale(0.95);
    opacity: 0;
  }
}
.modal-content {
  will-change: transform, opacity;
  animation: slideInDown 0.3s cubic-bezier(0.25, 0.8, 0.25, 1) forwards;
}
.modal-container.is-hiding .modal-content {
  animation: zoomOut 0.2s ease-in forwards;
}
/* Custom classes for SweetAlert2 */
.swal2-popup.swal2-modal {
  animation: slideInDown 0.3s cubic-bezier(0.25, 0.8, 0.25, 1) forwards;
}
.swal2-popup.swal2-modal.swal2-hide {
  animation: zoomOut 0.2s ease-in forwards !important;
}

/* --- Modern Flat Card Design --- */

.flat-card-grid {
  display: grid;
  grid-template-columns: repeat(1, minmax(0, 1fr));
  gap: 1.5rem;
}
@media (min-width: 768px) {
  .flat-card-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}
@media (min-width: 1024px) {
  .flat-card-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}
@media (min-width: 1536px) {
  .flat-card-grid {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}

.flat-card {
  background: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(10px) saturate(150%);
  -webkit-backdrop-filter: blur(10px) saturate(150%);
  border-radius: 1rem; 
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  overflow: hidden; 
  display: flex;
  flex-direction: column;
}
.flat-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.15);
}
.flat-card-header {
  padding: 1.25rem;
  border-bottom: 1px solid rgba(209, 213, 219, 0.5);
}
.flat-card-body {
  padding: 1.25rem; 
  flex-grow: 1;
}
.flat-card-footer {
  background: rgba(249, 250, 251, 0.8); 
  border-top: 1px solid rgba(209, 213, 219, 0.5); 
}
.flat-accordion > summary {
  list-style: none;
  cursor: pointer;
  padding: 1.25rem; 
  font-weight: 600; 
  color: #374151;
  transition: background-color 0.2s ease;
}
.flat-accordion > summary:hover {
  background-color: rgba(243, 244, 246, 0.7);
}
.flat-accordion > summary::-webkit-details-marker {
  display: none; 
}
.flat-accordion > summary::after {
  content: 'â–¼';
  float: right;
  font-size: 0.8em;
  transition: transform 0.3s ease-in-out;
  color: #6b7280; 
}
.flat-accordion[open] > summary::after {
  transform: rotate(180deg);
}
.flat-accordion-content {
  padding: 1.25rem; 
  border-top: 1px solid rgba(209, 213, 219, 0.7); 
  animation: slideDown 0.3s ease-out;
}
@keyframes slideDown {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* --- Modern Login Page --- */
@keyframes formFadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
.login-form-animate {
  animation: formFadeIn 0.6s ease-out 0.1s backwards;
}
.login-form-animate .form-group {
  animation: formFadeIn 0.6s ease-out backwards;
}
.login-form-animate .form-group:nth-child(1) { animation-delay: 0.2s; }
.login-form-animate .form-group:nth-child(2) { animation-delay: 0.3s; }
.login-form-animate .form-group:nth-child(3) { animation-delay: 0.4s; }
.login-form-animate button[type="submit"] { animation: formFadeIn 0.6s ease-out 0.5s backwards; }
.login-form-animate p { animation: formFadeIn 0.6s ease-out 0.6s backwards; }
.login-form-animate div[class*="text-center"] { animation: formFadeIn 0.6s ease-out 0.7s backwards; }


/* --- Modern Finance Cards --- */
.action-card-finance {
  @apply bg-white p-6 rounded-2xl border border-gray-200 shadow-lg transition-all duration-300;
}
.action-card-finance:hover {
  @apply shadow-indigo-100 shadow-lg;
  transform: translateY(-3px);
}
.action-card-finance .form-input,
.action-card-finance .form-textarea,
.action-card-finance .form-select {
  @apply w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2;
}

/* --- Logout Button Responsive --- */
@media (max-width: 1024px) {
  #logout-button-mobile {
    order: -1;
  }
}

/* --- ** UPDATED: Month Autocomplete & Tags ** --- */
.month-search-container {
  @apply relative;
}

.select-all-months-btn {
  @apply text-xs font-medium text-indigo-600 hover:underline cursor-pointer;
  @apply absolute -top-4 right-0; /* Position top-right */
}

.month-suggestions-dropdown {
  @apply absolute top-full left-0 right-0 z-10;
  @apply bg-white border border-gray-300 rounded-lg shadow-lg mt-1;
  @apply max-h-48 overflow-y-auto custom-scrollbar p-2 space-y-1;
}
.month-suggestion-item {
  @apply px-4 py-2 hover:bg-gray-100 cursor-pointer rounded-md text-sm;
}

.selected-months-container {
  @apply flex flex-wrap gap-2 mt-2;
  min-height: 2.5rem; /* Reserve space */
}

.selected-month-tag {
  @apply flex items-center bg-indigo-100 text-indigo-700 rounded-full px-3 py-1 text-sm font-medium;
  animation: zoomIn 0.2s ease-out;
}

.selected-month-tag-remove {
  @apply ml-2 w-4 h-4 flex items-center justify-center;
  @apply bg-indigo-200 text-indigo-600 rounded-full;
  @apply hover:bg-red-500 hover:text-white transition-all;
  font-weight: bold;
  font-size: 14px;
  line-height: 1;
  cursor: pointer;
}

@keyframes zoomIn {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* --- ** NEW: Maintenance Year Selector ** --- */
.maintenance-status-header {
  @apply flex justify-between items-center mb-3;
}
.maintenance-status-header h4 {
  @apply text-base font-semibold text-gray-700;
}
.maintenance-status-header .maintenance-year-select {
  @apply text-sm font-medium border-gray-300 rounded-lg shadow-sm;
  @apply focus:outline-none focus:ring-2 focus:ring-indigo-500;
  padding-top: 0.25rem;
  padding-bottom: 0.25rem;
  padding-right: 2rem; /* Make space for default arrow */
}